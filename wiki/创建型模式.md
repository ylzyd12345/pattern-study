# åˆ›å»ºå‹æ¨¡å¼è¯¦è§£

åˆ›å»ºå‹æ¨¡å¼å…³æ³¨å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Œæä¾›äº†ä¸€ç§åœ¨åˆ›å»ºå¯¹è±¡çš„åŒæ—¶éšè—åˆ›å»ºé€»è¾‘çš„æ–¹å¼ï¼Œä½¿å¾—ç¨‹åºçš„ç»“æ„æ›´åŠ çµæ´»ã€‚

## ğŸ“‹ æ¨¡å¼æ¦‚è§ˆ

| æ¨¡å¼ | è‹±æ–‡å | éš¾åº¦ | ä½¿ç”¨é¢‘ç‡ | æ ¸å¿ƒæ€æƒ³ |
|------|--------|------|----------|----------|
| å•ä¾‹æ¨¡å¼ | Singleton | â­ | â­â­â­â­â­ | ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ |
| å·¥å‚æ–¹æ³•æ¨¡å¼ | Factory Method | â­â­ | â­â­â­â­â­ | å®šä¹‰åˆ›å»ºå¯¹è±¡çš„æ¥å£ |
| æŠ½è±¡å·¥å‚æ¨¡å¼ | Abstract Factory | â­â­â­ | â­â­â­â­ | åˆ›å»ºäº§å“æ— |
| å»ºé€ è€…æ¨¡å¼ | Builder | â­â­â­ | â­â­â­ | åˆ†æ­¥éª¤æ„å»ºå¤æ‚å¯¹è±¡ |
| åŸå‹æ¨¡å¼ | Prototype | â­â­ | â­â­â­ | é€šè¿‡å¤åˆ¶åˆ›å»ºå¯¹è±¡ |

## ğŸ—ï¸ å•ä¾‹æ¨¡å¼ (Singleton)

### æ¨¡å¼å®šä¹‰
ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›å…¨å±€è®¿é—®ç‚¹ã€‚

### UMLç±»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Singleton     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - instance:     â”‚
â”‚   Singleton     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - Singleton()   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + getInstance() â”‚
â”‚ : Singleton     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®ç°æ–¹å¼

#### 1. é¥¿æ±‰å¼ï¼ˆæ¨èï¼‰
```java
public class EagerSingleton {
    private static final EagerSingleton INSTANCE = new EagerSingleton();
    
    private EagerSingleton() {}
    
    public static EagerSingleton getInstance() {
        return INSTANCE;
    }
}
```

**ä¼˜ç‚¹**ï¼š
- çº¿ç¨‹å®‰å…¨
- å®ç°ç®€å•
- æ²¡æœ‰é”ç«äº‰

**ç¼ºç‚¹**ï¼š
- æ— æ³•å»¶è¿ŸåŠ è½½
- å¯èƒ½é€ æˆèµ„æºæµªè´¹

#### 2. æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ï¼‰
```java
public class LazySingleton {
    private static LazySingleton instance;
    
    private LazySingleton() {}
    
    public static LazySingleton getInstance() {
        if (instance == null) {
            instance = new LazySingleton();
        }
        return instance;
    }
}
```

#### 3. åŒé‡æ£€æŸ¥é”å®šï¼ˆæ¨èï¼‰
```java
public class DoubleCheckedSingleton {
    private static volatile DoubleCheckedSingleton instance;
    
    private DoubleCheckedSingleton() {}
    
    public static DoubleCheckedSingleton getInstance() {
        if (instance == null) {
            synchronized (DoubleCheckedSingleton.class) {
                if (instance == null) {
                    instance = new DoubleCheckedSingleton();
                }
            }
        }
        return instance;
    }
}
```

#### 4. æšä¸¾å•ä¾‹ï¼ˆæœ€ä½³å®è·µï¼‰
```java
public enum EnumSingleton {
    INSTANCE;
    
    public void doSomething() {
        // ä¸šåŠ¡æ–¹æ³•
    }
}
```

### åº”ç”¨åœºæ™¯
- æ•°æ®åº“è¿æ¥æ± 
- é…ç½®ç®¡ç†å™¨
- æ—¥å¿—è®°å½•å™¨
- ç¼“å­˜ç³»ç»Ÿ

### æ³¨æ„äº‹é¡¹
- ååºåˆ—åŒ–æ”»å‡»é˜²æŠ¤
- åå°„æ”»å‡»é˜²æŠ¤
- å…‹éš†æ”»å‡»é˜²æŠ¤

## ğŸ­ å·¥å‚æ–¹æ³•æ¨¡å¼ (Factory Method)

### æ¨¡å¼å®šä¹‰
å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»ã€‚

### UMLç±»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Creator      â”‚    â”‚   Product       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + factoryMethodâ”‚â—„â”€â”€â”€â”¤                 â”‚
â”‚   (): Product   â”‚    â”‚ + operation()   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ + anOperation() â”‚              â–²
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
         â–²                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ ConcreteProduct â”‚
â”‚ ConcreteCreator â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚ + operation()   â”‚
â”‚ + factoryMethodâ”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   (): Product   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»£ç å®ç°

#### æŠ½è±¡äº§å“
```java
public interface Product {
    void operation();
}
```

#### å…·ä½“äº§å“
```java
public class ConcreteProductA implements Product {
    @Override
    public void operation() {
        System.out.println("Product A operation");
    }
}

public class ConcreteProductB implements Product {
    @Override
    public void operation() {
        System.out.println("Product B operation");
    }
}
```

#### æŠ½è±¡å·¥å‚
```java
public abstract class Creator {
    public Product anOperation() {
        Product product = factoryMethod();
        product.operation();
        return product;
    }
    
    protected abstract Product factoryMethod();
}
```

#### å…·ä½“å·¥å‚
```java
public class ConcreteCreatorA extends Creator {
    @Override
    protected Product factoryMethod() {
        return new ConcreteProductA();
    }
}

public class ConcreteCreatorB extends Creator {
    @Override
    protected Product factoryMethod() {
        return new ConcreteProductB();
    }
}
```

### åº”ç”¨åœºæ™¯
- æ—¥å¿—è®°å½•å™¨åˆ›å»º
- æ•°æ®åº“è¿æ¥å™¨åˆ›å»º
- UIç»„ä»¶åˆ›å»º
- æ”¯ä»˜æ–¹å¼åˆ›å»º

### ä¼˜ç‚¹
- ç¬¦åˆå¼€é—­åŸåˆ™
- ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™
- é¿å…å®¢æˆ·ç«¯ä¸å…·ä½“ç±»è€¦åˆ

### ç¼ºç‚¹
- ç±»çš„æ•°é‡å¢åŠ 
- å¢åŠ äº†ç³»ç»Ÿå¤æ‚æ€§

## ğŸ­ğŸ­ æŠ½è±¡å·¥å‚æ¨¡å¼ (Abstract Factory)

### æ¨¡å¼å®šä¹‰
æä¾›ä¸€ä¸ªåˆ›å»ºä¸€ç³»åˆ—ç›¸å…³æˆ–ç›¸äº’ä¾èµ–å¯¹è±¡çš„æ¥å£ï¼Œè€Œæ— éœ€æŒ‡å®šå®ƒä»¬çš„å…·ä½“ç±»ã€‚

### UMLç±»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AbstractFactory â”‚    â”‚  AbstractProductAâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + createProductAâ”‚â—„â”€â”€â”€â”¤                 â”‚
â”‚   (): ProductA  â”‚    â”‚ + operation()   â”‚
â”‚ + createProductBâ”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   (): ProductB  â”‚              â–²
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
         â–²                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚ConcreteProductA1â”‚
â”‚ConcreteFactory1 â”‚      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚ + operation()   â”‚
â”‚ + createProductAâ”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚   (): ProductA  â”‚              
â”‚ + createProductBâ”‚              
â”‚   (): ProductB  â”‚              
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              
```

### ä»£ç å®ç°

#### æŠ½è±¡äº§å“æ—
```java
public interface Button {
    void paint();
}

public interface Checkbox {
    void paint();
}
```

#### å…·ä½“äº§å“æ—
```java
// Windowsé£æ ¼
public class WindowsButton implements Button {
    @Override
    public void paint() {
        System.out.println("Windows Button");
    }
}

public class WindowsCheckbox implements Checkbox {
    @Override
    public void paint() {
        System.out.println("Windows Checkbox");
    }
}

// MacOSé£æ ¼
public class MacOSButton implements Button {
    @Override
    public void paint() {
        System.out.println("MacOS Button");
    }
}

public class MacOSCheckbox implements Checkbox {
    @Override
    public void paint() {
        System.out.println("MacOS Checkbox");
    }
}
```

#### æŠ½è±¡å·¥å‚
```java
public interface GUIFactory {
    Button createButton();
    Checkbox createCheckbox();
}
```

#### å…·ä½“å·¥å‚
```java
public class WindowsFactory implements GUIFactory {
    @Override
    public Button createButton() {
        return new WindowsButton();
    }
    
    @Override
    public Checkbox createCheckbox() {
        return new WindowsCheckbox();
    }
}

public class MacOSFactory implements GUIFactory {
    @Override
    public Button createButton() {
        return new MacOSButton();
    }
    
    @Override
    public Checkbox createCheckbox() {
        return new MacOSCheckbox();
    }
}
```

### åº”ç”¨åœºæ™¯
- è·¨å¹³å°UIç»„ä»¶åˆ›å»º
- æ•°æ®åº“è®¿é—®å±‚
- ä¸åŒä¸»é¢˜çš„ç•Œé¢ç»„ä»¶
- ä¸åŒæ ¼å¼çš„æ–‡æ¡£ç”Ÿæˆ

### ä¼˜ç‚¹
- ä¿è¯äº§å“æ—çš„ä¸€è‡´æ€§
- ç¬¦åˆå¼€é—­åŸåˆ™
- åˆ†ç¦»å®¢æˆ·ç«¯å’Œå…·ä½“å®ç°

### ç¼ºç‚¹
- æ‰©å±•æ–°äº§å“æ—å›°éš¾
- å¢åŠ ç³»ç»Ÿå¤æ‚æ€§

## ğŸ—ï¸ å»ºé€ è€…æ¨¡å¼ (Builder)

### æ¨¡å¼å®šä¹‰
å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å®ƒçš„è¡¨ç¤ºåˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚

### UMLç±»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Director     â”‚    â”‚    Builder      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - builder:      â”‚    â”‚ + reset()       â”‚
â”‚   Builder       â”‚    â”‚ + setPartA()    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚ + setPartB()    â”‚
â”‚ + construct()   â”‚    â”‚ + getResult()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â–²
         â”‚                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚              â”‚ConcreteBuilder  â”‚
         â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚              â”‚ - product:      â”‚
         â”‚              â”‚   Product       â”‚
         â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚              â”‚ + reset()       â”‚
         â”‚              â”‚ + setPartA()    â”‚
         â”‚              â”‚ + setPartB()    â”‚
         â”‚              â”‚ + getResult()   â”‚
         â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚
         â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚    Product      â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚ - partA: PartA   â”‚
                        â”‚ - partB: PartB   â”‚
                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚ + operation()   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»£ç å®ç°

#### äº§å“ç±»
```java
public class Computer {
    private String cpu;
    private String ram;
    private String storage;
    private String graphics;
    
    // ç§æœ‰æ„é€ å‡½æ•°ï¼Œåªèƒ½é€šè¿‡Builderåˆ›å»º
    private Computer() {}
    
    // Getteræ–¹æ³•
    public String getCpu() { return cpu; }
    public String getRam() { return ram; }
    public String getStorage() { return storage; }
    public String getGraphics() { return graphics; }
    
    // Builderç±»
    public static class Builder {
        private Computer computer = new Computer();
        
        public Builder cpu(String cpu) {
            computer.cpu = cpu;
            return this;
        }
        
        public Builder ram(String ram) {
            computer.ram = ram;
            return this;
        }
        
        public Builder storage(String storage) {
            computer.storage = storage;
            return this;
        }
        
        public Builder graphics(String graphics) {
            computer.graphics = graphics;
            return this;
        }
        
        public Computer build() {
            return computer;
        }
    }
}
```

#### ä½¿ç”¨ç¤ºä¾‹
```java
public class BuilderDemo {
    public static void main(String[] args) {
        // æ¸¸æˆç”µè„‘
        Computer gamingPC = new Computer.Builder()
            .cpu("Intel i9-12900K")
            .ram("32GB DDR4")
            .storage("1TB NVMe SSD")
            .graphics("RTX 3080")
            .build();
            
        // åŠå…¬ç”µè„‘
        Computer officePC = new Computer.Builder()
            .cpu("Intel i5-12400")
            .ram("16GB DDR4")
            .storage("512GB SSD")
            .build(); // graphicså¯é€‰
            
        System.out.println("Gaming PC: " + gamingPC.getCpu());
        System.out.println("Office PC: " + officePC.getCpu());
    }
}
```

### åº”ç”¨åœºæ™¯
- å¤æ‚å¯¹è±¡æ„å»º
- æµå¼APIè®¾è®¡
- é…ç½®å¯¹è±¡åˆ›å»º
- æµ‹è¯•æ•°æ®æ„å»º

### ä¼˜ç‚¹
- åˆ†æ­¥æ„å»ºï¼Œæ§åˆ¶æ„å»ºè¿‡ç¨‹
- ç›¸åŒæ„å»ºè¿‡ç¨‹åˆ›å»ºä¸åŒå¯¹è±¡
- ç¬¦åˆå¼€é—­åŸåˆ™

### ç¼ºç‚¹
- äº§å“å¿…é¡»æœ‰å…±åŒæ¥å£
- ä»£ç å¤æ‚åº¦å¢åŠ 

## ğŸ“‹ åŸå‹æ¨¡å¼ (Prototype)

### æ¨¡å¼å®šä¹‰
é€šè¿‡å¤åˆ¶ç°æœ‰å®ä¾‹æ¥åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œè€Œä¸æ˜¯é€šè¿‡newæ“ä½œã€‚

### UMLç±»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Prototype     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + clone()       â”‚
â”‚ : Prototype     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²
         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ConcretePrototypeâ”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - field: Type   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + clone()       â”‚
â”‚ : Prototype     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»£ç å®ç°

#### åŸå‹æ¥å£
```java
public interface Prototype extends Cloneable {
    Prototype clone();
}
```

#### å…·ä½“åŸå‹
```java
public class Sheep implements Prototype {
    private String name;
    private int age;
    private String color;
    
    public Sheep(String name, int age, String color) {
        this.name = name;
        this.age = age;
        this.color = color;
    }
    
    // æµ…æ‹·è´
    @Override
    public Sheep clone() {
        try {
            return (Sheep) super.clone();
        } catch (CloneNotSupportedException e) {
            throw new RuntimeException(e);
        }
    }
    
    // Getterå’ŒSetter
    public String getName() { return name; }
    public void setName(String name) { this.name = name; }
    
    @Override
    public String toString() {
        return "Sheep{name='" + name + "', age=" + age + ", color='" + color + "'}";
    }
}
```

#### æ·±æ‹·è´ç¤ºä¾‹
```java
public class DeepCopySheep implements Prototype {
    private String name;
    private List<String> friends;
    
    public DeepCopySheep(String name, List<String> friends) {
        this.name = name;
        this.friends = new ArrayList<>(friends);
    }
    
    @Override
    public DeepCopySheep clone() {
        try {
            DeepCopySheep cloned = (DeepCopySheep) super.clone();
            // æ·±æ‹·è´friendsåˆ—è¡¨
            cloned.friends = new ArrayList<>(this.friends);
            return cloned;
        } catch (CloneNotSupportedException e) {
            throw new RuntimeException(e);
        }
    }
}
```

#### ä½¿ç”¨ç¤ºä¾‹
```java
public class PrototypeDemo {
    public static void main(String[] args) {
        // åˆ›å»ºåŸå‹
        Sheep original = new Sheep("Dolly", 3, "white");
        
        // å…‹éš†æ–°å®ä¾‹
        Sheep cloned = original.clone();
        cloned.setName("Dolly Clone");
        
        System.out.println("Original: " + original);
        System.out.println("Cloned: " + cloned);
        
        // åŸå‹ç®¡ç†å™¨
        Map<String, Prototype> prototypeMap = new HashMap<>();
        prototypeMap.put("sheep", original);
        
        Sheep anotherClone = (Sheep) prototypeMap.get("sheep").clone();
        System.out.println("Another clone: " + anotherClone);
    }
}
```

### åº”ç”¨åœºæ™¯
- å¯¹è±¡åˆ›å»ºæˆæœ¬é«˜
- éœ€è¦é¿å…æ„é€ å‡½æ•°çº¦æŸ
- éœ€è¦ä¿å­˜å¯¹è±¡çŠ¶æ€
- å¤§é‡ç›¸ä¼¼å¯¹è±¡åˆ›å»º

### ä¼˜ç‚¹
- æ€§èƒ½ä¼˜äºnewæ“ä½œ
- é¿å¼€æ„é€ å‡½æ•°çº¦æŸ
- ç®€åŒ–å¯¹è±¡åˆ›å»º

### ç¼ºç‚¹
- æ·±æ‹·è´å®ç°å¤æ‚
- æ¯ä¸ªç±»éœ€è¦å®ç°å…‹éš†æ–¹æ³•

## ğŸ”— æ¨¡å¼å¯¹æ¯”

| æ¨¡å¼ | ä¸»è¦ç›®çš„ | åˆ›å»ºæ–¹å¼ | å¤æ‚åº¦ | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|--------|----------|
| å•ä¾‹ | æ§åˆ¶å®ä¾‹æ•°é‡ | ç§æœ‰æ„é€ +é™æ€æ–¹æ³• | ä½ | å…¨å±€å”¯ä¸€å¯¹è±¡ |
| å·¥å‚æ–¹æ³• | å»¶è¿Ÿå®ä¾‹åŒ– | å­ç±»å†³å®šå…·ä½“ç±» | ä¸­ | äº§å“ç±»å‹å¯å˜ |
| æŠ½è±¡å·¥å‚ | äº§å“æ—åˆ›å»º | å·¥å‚æ¥å£ | é«˜ | è·¨å¹³å°/ä¸»é¢˜ |
| å»ºé€ è€… | å¤æ‚å¯¹è±¡æ„å»º | åˆ†æ­¥æ„å»º | ä¸­ | å¤æ‚å¯¹è±¡ |
| åŸå‹ | å¯¹è±¡å¤åˆ¶ | å…‹éš†ç°æœ‰å¯¹è±¡ | ä½ | å¯¹è±¡åˆ›å»ºæˆæœ¬é«˜ |

## ğŸ¯ é€‰æ‹©æŒ‡å—

### é€‰æ‹©å•ä¾‹æ¨¡å¼å½“ï¼š
- éœ€è¦å…¨å±€å”¯ä¸€å®ä¾‹
- éœ€è¦æ§åˆ¶è®¿é—®ç‚¹
- èµ„æºå…±äº«åœºæ™¯

### é€‰æ‹©å·¥å‚æ–¹æ³•æ¨¡å¼å½“ï¼š
- æ— æ³•é¢„çŸ¥å¯¹è±¡ç±»å‹
- éœ€è¦å­ç±»å†³å®šåˆ›å»ºå¯¹è±¡
- éœ€è¦è§£è€¦åˆ›å»ºå’Œä½¿ç”¨

### é€‰æ‹©æŠ½è±¡å·¥å‚æ¨¡å¼å½“ï¼š
- éœ€è¦åˆ›å»ºäº§å“æ—
- éœ€è¦ä¿è¯äº§å“ä¸€è‡´æ€§
- è·¨å¹³å°/ä¸»é¢˜ç³»ç»Ÿ

### é€‰æ‹©å»ºé€ è€…æ¨¡å¼å½“ï¼š
- å¯¹è±¡æ„å»ºå¤æ‚
- éœ€è¦åˆ†æ­¥æ„å»º
- éœ€è¦å¤šç§è¡¨ç¤º

### é€‰æ‹©åŸå‹æ¨¡å¼å½“ï¼š
- å¯¹è±¡åˆ›å»ºæˆæœ¬é«˜
- éœ€è¦é¿å…æ„é€ å‡½æ•°
- éœ€è¦ä¿å­˜å¯¹è±¡çŠ¶æ€

## ğŸ“š å®é™…åº”ç”¨

### JDKä¸­çš„åº”ç”¨
- `Runtime.getRuntime()` - å•ä¾‹æ¨¡å¼
- `Calendar.getInstance()` - å·¥å‚æ–¹æ³•æ¨¡å¼
- `DocumentBuilderFactory` - æŠ½è±¡å·¥å‚æ¨¡å¼
- `StringBuilder` - å»ºé€ è€…æ¨¡å¼
- `Object.clone()` - åŸå‹æ¨¡å¼

### Springä¸­çš„åº”ç”¨
- `ApplicationContext` - å•ä¾‹æ¨¡å¼
- `BeanFactory` - å·¥å‚æ¨¡å¼
- `BeanDefinitionBuilder` - å»ºé€ è€…æ¨¡å¼

### æœ€ä½³å®è·µ
1. **ä¼˜å…ˆè€ƒè™‘ç®€å•æ¨¡å¼**ï¼šä¸è¦è¿‡åº¦è®¾è®¡
2. **è€ƒè™‘æ€§èƒ½å½±å“**ï¼šæ¨¡å¼å¯èƒ½å¸¦æ¥æ€§èƒ½å¼€é”€
3. **ä¿æŒä¸€è‡´æ€§**ï¼šå›¢é˜Ÿå†…ç»Ÿä¸€æ¨¡å¼ä½¿ç”¨
4. **æ–‡æ¡£åŒ–å†³ç­–**ï¼šè®°å½•ä¸ºä»€ä¹ˆé€‰æ‹©æŸä¸ªæ¨¡å¼

---

åˆ›å»ºå‹æ¨¡å¼æ˜¯è®¾è®¡æ¨¡å¼çš„åŸºç¡€ï¼ŒæŒæ¡å®ƒä»¬å¯¹äºç†è§£é¢å‘å¯¹è±¡è®¾è®¡è‡³å…³é‡è¦ã€‚è®°ä½ï¼šæ¨¡å¼æ˜¯å·¥å…·ï¼Œä¸æ˜¯ç›®æ ‡ï¼Œè¦æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ¨¡å¼ã€‚